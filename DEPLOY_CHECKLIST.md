# âœ… Ð§ÐµÐºÐ»Ð¸ÑÑ‚ Ð´ÐµÐ¿Ð»Ð¾Ñ ÐÐµÐ¹Ñ€Ð¾Ð¼Ð°Ð³Ð¸Ð¸

## ðŸ“¦ Ð§Ñ‚Ð¾ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾ Ð² ÐºÐ¾Ð´Ðµ

### âœ… Docker ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
- [x] `Dockerfile` - Ð¾Ð±Ñ€Ð°Ð· Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ñ Hypercorn
- [x] `docker-compose.yml` - Ð¾Ñ€ÐºÐµÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð² (app + nginx)
- [x] `.dockerignore` - Ð¸ÑÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð»Ð¸ÑˆÐ½Ð¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸Ð· Ð¾Ð±Ñ€Ð°Ð·Ð°
- [x] `nginx/nginx.conf` - ÐºÐ¾Ð½Ñ„Ð¸Ð³ Nginx Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ SSL (Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½)

### âœ… CI/CD
- [x] `.github/workflows/deploy.yml` - GitHub Actions Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð´ÐµÐ¿Ð»Ð¾Ñ
- [x] Workflow Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ð¸Ñ‚ÑÑ Ð½Ð° push Ð² `main`
- [x] ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ pull, rebuild, restart Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

### âœ… Ð¡ÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ Ð´ÐµÐ¿Ð»Ð¾Ñ
- [x] `deploy.sh` - Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð´ÐµÐ¿Ð»Ð¾Ð¹
- [x] `quick-deploy.sh` - ÐºÐ¾Ð¿Ð¸Ð¿Ð°ÑÑ‚Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð´Ð»Ñ Ñ€ÑƒÑ‡Ð½Ð¾Ð³Ð¾ Ð´ÐµÐ¿Ð»Ð¾Ñ

### âœ… Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- [x] `QUICK_START.md` - ÐºÑ€Ð°Ñ‚ÐºÐ°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ (5 Ð¼Ð¸Ð½ÑƒÑ‚)
- [x] `SERVER_SETUP.md` - Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ñ SSL, Ð´Ð¾Ð¼ÐµÐ½Ð¾Ð¼, Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð¾Ð¼
- [x] `DEPLOY.md` - ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- [x] `DEPLOY_CHECKLIST.md` - ÑÑ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð»

### âœ… ÐšÐ¾Ð´ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- [x] `main.py` - Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ `.env` Ñ‡ÐµÑ€ÐµÐ· `python-dotenv`
- [x] `app/__init__.py` - Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð‘Ð” Ð¿Ñ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ
- [x] `requirements.txt` - Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ `hypercorn` Ð´Ð»Ñ production
- [x] Ð’ÑÐµ Ñ€Ð¾ÑƒÑ‚Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ (public, auth, quest, courses)
- [x] Telegram Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ð´Ð»Ñ Ð·Ð°ÑÐ²Ð¾Ðº
- [x] SQLite Ð‘Ð” Ñ Ð°Ð²Ñ‚Ð¾Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹

### âœ… Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ
- [x] `.env` Ð² `.gitignore` (Ð½Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð¸Ñ‚ÑÑ)
- [x] SECRET_KEY Ð² production Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°ÐµÑ‚ÑÑ Ð¾Ñ‚ dev
- [x] ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ð¾Ñ‚ Ð½ÐµÐ¿Ñ€Ð¸Ð²Ð¸Ð»ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
- [x] Nginx Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ð½Ð° HTTPS (ÐºÐ¾Ð³Ð´Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾Ð¼ÐµÐ½)

---

## ðŸš€ Ð§Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð½Ð° GitHub

### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Secrets (ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž!)

ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ: **https://github.com/Starlight19973/magic_ai/settings/secrets/actions**

Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ 3 ÑÐµÐºÑ€ÐµÑ‚Ð°:

| Secret Name | Secret Value | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|------------|--------------|----------|
| `SERVER_HOST` | `138.124.15.60` | IP ÑÐµÑ€Ð²ÐµÑ€Ð° |
| `SERVER_USER` | `root` | Ð›Ð¾Ð³Ð¸Ð½ SSH |
| `SERVER_PASSWORD` | `PFIwOaXLAo08Wz` | ÐŸÐ°Ñ€Ð¾Ð»ÑŒ SSH |

**Ð’ÐÐ–ÐÐž**: Ð‘ÐµÐ· ÑÑ‚Ð¸Ñ… ÑÐµÐºÑ€ÐµÑ‚Ð¾Ð² GitHub Actions Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ!

---

## ðŸ–¥ï¸ Ð§Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

### 1. ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ñ€Ð°Ð· (Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°)

```bash
# ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ
ssh root@138.124.15.60

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Docker
curl -fsSL https://get.docker.com | sh

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Docker Compose
curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Git
apt install git -y

# ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚
mkdir -p /opt/neuromagic
cd /opt/neuromagic
git clone https://github.com/Starlight19973/magic_ai.git .

# Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ .env
cat > .env << 'EOF'
SECRET_KEY=prod_secret_key_2024_neuromagic_ultra_secure
TELEGRAM_BOT_TOKEN=8528801413:AAFW7dH8I-soM2m_6cUC_HZGIf_DnDEtbYQ
TELEGRAM_CHAT_ID=-5020049520
EOF

# Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸
mkdir -p data logs nginx/ssl

# Ð¡Ð¾Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼
docker-compose build
docker-compose run --rm app python -c "from app.database import init_db; import asyncio; asyncio.run(init_db())"
docker-compose run --rm app python create_test_user.py
docker-compose --profile production up -d

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼
docker-compose ps
```

### 2. ÐŸÐ¾ÑÐ»Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ (Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ‡ÐµÑ€ÐµÐ· GitHub Actions)

GitHub Actions Ð±ÑƒÐ´ÐµÑ‚ Ð´ÐµÐ»Ð°Ñ‚ÑŒ ÑÑ‚Ð¾ ÑÐ°Ð¼:
```bash
cd /opt/neuromagic
docker-compose down
git pull origin main
docker-compose build --no-cache
docker-compose --profile production up -d
```

Ð˜Ð»Ð¸ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ:
```bash
ssh root@138.124.15.60
cd /opt/neuromagic
git pull origin main
docker-compose build
docker-compose --profile production up -d
```

---

## ðŸ§ª ÐšÐ°Ðº Ð¿Ñ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ

### 1. Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ´ Ð¿ÑƒÑˆÐµÐ¼

```bash
# ÐÐ° Windows
cd C:\Fooocus\it_courses
docker-compose build
docker-compose up
```

ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ: http://localhost:8000

### 2. ÐŸÐ¾ÑÐ»Ðµ Ð´ÐµÐ¿Ð»Ð¾Ñ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ: **http://138.124.15.60**

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ:
- [ ] Ð“Ð»Ð°Ð²Ð½Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ
- [ ] ÐšÐ²ÐµÑÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ (http://138.124.15.60/quest)
- [ ] Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ/Ð»Ð¾Ð³Ð¸Ð½ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] Ð¡Ñ‚Ð°Ñ‚Ð¸ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ÑÑ (CSS, JS, ÐºÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐ¸)
- [ ] Ð—Ð°ÑÐ²ÐºÐ¸ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚ Ð² Telegram Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ñ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ð¸ ÐºÐ²ÐµÑÑ‚Ð°

### 3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð»Ð¾Ð³Ð¾Ð² Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

```bash
ssh root@138.124.15.60
cd /opt/neuromagic
docker-compose logs -f
```

ÐÐµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ñ‚Ð¸Ð¿Ð°:
- âŒ `ModuleNotFoundError`
- âŒ `Connection refused`
- âŒ `500 Internal Server Error`

---

## ðŸŒ ÐŸÐ¾ÑÐ»Ðµ Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸ Ð´Ð¾Ð¼ÐµÐ½Ð°

### 1. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° DNS (Ð² Ð¿Ð°Ð½ÐµÐ»Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°)

Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ A-Ð·Ð°Ð¿Ð¸ÑÐ¸:
```
Ð¢Ð¸Ð¿: A, Ð˜Ð¼Ñ: @, Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: 138.124.15.60, TTL: 3600
Ð¢Ð¸Ð¿: A, Ð˜Ð¼Ñ: www, Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: 138.124.15.60, TTL: 3600
```

ÐŸÐ¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ 5-30 Ð¼Ð¸Ð½ÑƒÑ‚ Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ.

### 2. ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð°

```bash
ssh root@138.124.15.60

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ nginx Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾
cd /opt/neuromagic
docker-compose stop nginx

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ certbot
apt install certbot -y

# ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ (Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru)
certbot certonly --standalone -d Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru -d www.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru

# Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹
cp /etc/letsencrypt/live/Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru/fullchain.pem /opt/neuromagic/nginx/ssl/
cp /etc/letsencrypt/live/Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru/privkey.pem /opt/neuromagic/nginx/ssl/
```

### 3. ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ nginx.conf

```bash
nano /opt/neuromagic/nginx/nginx.conf
```

ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð±Ð»Ð¾Ðº HTTPS Ð¸:
1. Ð Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÐµÐ³Ð¾
2. Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ `server_name` Ð½Ð° Ð²Ð°Ñˆ Ð´Ð¾Ð¼ÐµÐ½
3. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ (Ctrl+O, Enter, Ctrl+X)

### 4. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº

```bash
cd /opt/neuromagic
docker-compose --profile production restart
```

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ: https://Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.ru

---

## ðŸ”§ ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð´Ð»Ñ ÑÐµÑ€Ð²ÐµÑ€Ð°

### ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð»Ð¾Ð³Ð¾Ð²
```bash
docker-compose logs -f              # Ð’ÑÐµ Ð»Ð¾Ð³Ð¸ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
docker-compose logs -f app          # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ
docker-compose logs -f nginx        # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Nginx
docker-compose logs --tail=100 app  # ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 100 ÑÑ‚Ñ€Ð¾Ðº
```

### Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°Ð¼Ð¸
```bash
docker-compose ps                   # Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²
docker-compose restart              # ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð²ÑÐµÑ…
docker-compose restart app          # ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
docker-compose down                 # ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð²ÑÐµÑ…
docker-compose up -d                # Ð—Ð°Ð¿ÑƒÑÐº Ð±ÐµÐ· nginx
docker-compose --profile production up -d  # Ð—Ð°Ð¿ÑƒÑÐº Ñ nginx
```

### ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³
```bash
docker stats                        # Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
df -h                               # Ð¡Ð²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾
docker system df                    # ÐœÐµÑÑ‚Ð¾ Ð·Ð°Ð½ÑÑ‚Ð¾Ðµ Docker
htop                                # ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð² (apt install htop)
```

### ÐžÑ‡Ð¸ÑÑ‚ÐºÐ°
```bash
docker system prune -a              # Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹
docker volume prune                 # Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð½ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ volumes (ÐžÐ¡Ð¢ÐžÐ ÐžÐ–ÐÐž!)
```

### Ð‘ÑÐºÐ°Ð¿ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
```bash
cd /opt/neuromagic
cp data/neuromagic.db data/neuromagic.db.backup.$(date +%Y%m%d_%H%M%S)
```

---

## ðŸ› Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹ Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÑŽÑ‚ÑÑ

```bash
# Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð»Ð¾Ð³Ð¸
docker-compose logs

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ñ€Ñ‚Ñ‹ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹
netstat -tulpn | grep :80
netstat -tulpn | grep :8000

# Ð•ÑÐ»Ð¸ Ð¿Ð¾Ñ€Ñ‚ Ð·Ð°Ð½ÑÑ‚ - Ð¾ÑÐ²Ð¾Ð±Ð¾Ð¶Ð´Ð°ÐµÐ¼
fuser -k 80/tcp

# ÐŸÐµÑ€ÐµÑÐ¾Ð·Ð´Ð°Ñ‘Ð¼ Ð²ÑÑ‘ Ñ Ð½ÑƒÐ»Ñ
docker-compose down -v
docker-compose build --no-cache
docker-compose --profile production up -d
```

### GitHub Actions Ð¿Ð°Ð´Ð°ÐµÑ‚

1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ‡Ñ‚Ð¾ Ð²ÑÐµ 3 ÑÐµÐºÑ€ÐµÑ‚Ð° Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹
2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ‡Ñ‚Ð¾ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ ÐµÑÑ‚ÑŒ `/opt/neuromagic` Ð¸ Ñ‚Ð°Ð¼ ÑÐºÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
3. ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸ Actions: https://github.com/Starlight19973/magic_ai/actions

### Ð¡Ð°Ð¹Ñ‚ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹
docker-compose ps

# Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ:
# neuromagic-app    Up (healthy)
# neuromagic-nginx  Up

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸
docker-compose logs -f

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ„Ð°Ð¹Ñ€Ð²Ð¾Ð»
ufw status
# Ð•ÑÐ»Ð¸ Ð°ÐºÑ‚Ð¸Ð²ÐµÐ½ Ð¸ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚ 80 Ð¿Ð¾Ñ€Ñ‚:
ufw allow 80/tcp
ufw allow 443/tcp
```

### Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… ÑÐ±Ñ€Ð¾ÑˆÐµÐ½Ð°

```bash
cd /opt/neuromagic
# Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
docker-compose run --rm app python -c "from app.database import init_db; import asyncio; asyncio.run(init_db())"
# Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
docker-compose run --rm app python create_test_user.py
```

---

## ðŸ“Š Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

ÐŸÐ¾ÑÐ»Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð³Ð¾ Ð´ÐµÐ¿Ð»Ð¾Ñ:

1. **ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³**
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Grafana + Prometheus (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ ÑÐµÑ€Ð²Ð¸Ñ (Sentry, Logstash)

2. **Ð‘ÑÐºÐ°Ð¿Ñ‹**
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð±ÑÐºÐ°Ð¿ Ð‘Ð” (cron)
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð±ÑÐºÐ°Ð¿ Ð² Ð¾Ð±Ð»Ð°ÐºÐ¾ (S3, Yandex Object Storage)

3. **Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ**
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ fail2ban Ð´Ð»Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð¾Ñ‚ Ð±Ñ€ÑƒÑ‚Ñ„Ð¾Ñ€ÑÐ° SSH
   - ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ñ‚ÑŒ SSH Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð¿Ð¾ ÐºÐ»ÑŽÑ‡Ñƒ (Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ)
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ ufw/iptables

4. **ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ**
   - Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Redis Ð´Ð»Ñ ÐºÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
   - ÐœÐ¸Ð³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð½Ð° PostgreSQL (ÐµÑÐ»Ð¸ Ð±ÑƒÐ´ÐµÑ‚ Ð¼Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹)
   - ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ CDN Ð´Ð»Ñ ÑÑ‚Ð°Ñ‚Ð¸ÐºÐ¸ (Cloudflare)

5. **Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸**
   - Ð®Kassa Ð´Ð»Ñ Ð¿Ð»Ð°Ñ‚ÐµÐ¶ÐµÐ¹
   - YandexGPT Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°
   - Email Ñ€Ð°ÑÑÑ‹Ð»ÐºÐ¸ (SendGrid, Mailgun)

---

## âœ… Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‡ÐµÐºÐ»Ð¸ÑÑ‚ Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°Ð¿ÑƒÑÐºÐ¾Ð¼

### GitHub
- [ ] Ð’ÑÐµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð·Ð°Ð¿ÑƒÑˆÐµÐ½Ñ‹ (`git push origin main`)
- [ ] 3 ÑÐµÐºÑ€ÐµÑ‚Ð° Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð² Settings â†’ Secrets
- [ ] GitHub Actions Ð¿Ñ€Ð¾ÑˆÑ‘Ð» ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ (Ð·ÐµÐ»Ñ‘Ð½Ð°Ñ Ð³Ð°Ð»Ð¾Ñ‡ÐºÐ°)

### Ð¡ÐµÑ€Ð²ÐµÑ€
- [ ] Docker ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
- [ ] Docker Compose ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
- [ ] Git ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½
- [ ] ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑÐºÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð² `/opt/neuromagic`
- [ ] Ð¤Ð°Ð¹Ð» `.env` ÑÐ¾Ð·Ð´Ð°Ð½ Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸
- [ ] Ð”Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ `data`, `logs`, `nginx/ssl` ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹
- [ ] Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°
- [ ] Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ ÑÐ¾Ð·Ð´Ð°Ð½
- [ ] ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ñ‹ (`docker-compose ps` Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Up)

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°
- [ ] http://138.124.15.60 Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ
- [ ] ÐšÐ²ÐµÑÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
- [ ] Ð›Ð¾Ð³Ð¸Ð½/Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] Ð¡Ñ‚Ð°Ñ‚Ð¸ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ÑÑ (CSS, JS)
- [ ] Telegram Ð·Ð°ÑÐ²ÐºÐ¸ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚
- [ ] Ð›Ð¾Ð³Ð¸ Ð±ÐµÐ· ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¾ÑˆÐ¸Ð±Ð¾Ðº

---

**ðŸŽ‰ Ð•ÑÐ»Ð¸ Ð²ÑÐµ Ð³Ð°Ð»Ð¾Ñ‡ÐºÐ¸ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ñ‹ - Ð’Ð« Ð’Ð•Ð›Ð˜ÐšÐžÐ›Ð•ÐŸÐÐ«! Ð¡Ð°Ð¹Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚!**

Ð¢ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ:
- Username: `testuser`
- Password: `test123`

URL: **http://138.124.15.60**

