{% extends "base.html" %}

{% block content %}
<div class="course-detail">
  <!-- –ì–µ—Ä–æ–π —Å –º–∞–≥–∏–µ–π -->
  <div class="course-hero">
    <div class="course-hero__sparkles">
      <div class="sparkle sparkle--gold"></div>
      <div class="sparkle sparkle--purple"></div>
      <div class="sparkle sparkle--gold"></div>
    </div>
    
    <div class="course-hero__content">
      <div class="course-hero__badges">
        {% for badge in course.badges %}
        <span class="badge badge--magic">{{ badge }}</span>
        {% endfor %}
      </div>
      
      <h1 class="course-hero__title">{{ course.title }}</h1>
      <p class="course-hero__tagline">{{ course.tagline }}</p>
      
      <div class="course-hero__meta">
        <div class="course-meta__item">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10 2a8 8 0 100 16 8 8 0 000-16zM9 5h2v5H9V5zm0 6h2v2H9v-2z"/>
          </svg>
          <span>{{ course_data.duration_weeks }} –Ω–µ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∏—è</span>
        </div>
        
        <div class="course-meta__item">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10 2l2.5 5 5.5.7-4 3.9 1 5.4-5-2.6-5 2.6 1-5.4-4-3.9 5.5-.7L10 2z"/>
          </svg>
          <span>{{ course.level|replace('beginner', '–î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö')|replace('junior', '–ë–∞–∑–æ–≤—ã–π')|replace('middle', '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π') }}</span>
        </div>
      </div>
      
      <div class="course-hero__price">
        <div class="price-tag">
          <span class="price-tag__amount">{{ "{:,}".format(course_data.price).replace(',', ' ') }} ‚ÇΩ</span>
          <span class="price-tag__label">–ø–æ–ª–Ω—ã–π –∫—É—Ä—Å</span>
        </div>
        
        {% if is_purchased %}
        <a href="{{ url_for('courses.my_course', slug=course.slug) }}" class="btn btn--primary btn--large btn--glow">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M7 10l2 2 4-4" stroke="currentColor" stroke-width="2"/>
          </svg>
          –ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ
        </a>
        {% elif session.get('user_id') %}
        <a href="{{ url_for('courses.buy_course', slug=course.slug) }}" class="btn btn--primary btn--large btn--glow">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
            <path d="M10 3v14M3 10h14" stroke="currentColor" stroke-width="2"/>
          </svg>
          –ö—É–ø–∏—Ç—å –∫—É—Ä—Å
        </a>
        {% else %}
        <a href="{{ url_for('auth.login') }}" class="btn btn--primary btn--large btn--glow">
          –í–æ–π—Ç–∏ —á—Ç–æ–±—ã –∫—É–ø–∏—Ç—å
        </a>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ -->
  <section class="course-section">
    <h2 class="section-title section-title--magic">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2l3 6 6.5 1-4.7 4.5 1.1 6.5-5.9-3.1L6 20l1.1-6.5L2.5 9l6.5-1L12 2z"/>
      </svg>
      –ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ
    </h2>
    
    <div class="benefits-grid">
      {% for benefit in course_data.what_you_get %}
      <div class="benefit-card">
        <div class="benefit-card__icon">‚ú®</div>
        <p class="benefit-card__text">{{ benefit }}</p>
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- –î–ª—è –∫–æ–≥–æ -->
  <section class="course-section course-section--alt">
    <h2 class="section-title section-title--magic">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 12c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0 2c-2.7 0-8 1.3-8 4v2h16v-2c0-2.7-5.3-4-8-4z"/>
      </svg>
      –≠—Ç–æ—Ç –∫—É—Ä—Å –¥–ª—è –≤–∞—Å, –µ—Å–ª–∏ –≤—ã
    </h2>
    
    <div class="for-whom-list">
      {% for item in course_data.for_whom %}
      <div class="for-whom-item">
        <div class="for-whom-item__icon">üéØ</div>
        <p class="for-whom-item__text">{{ item }}</p>
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è -->
  <section class="course-section">
    <h2 class="section-title section-title--magic">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
      </svg>
      –ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è
    </h2>
    
    <div class="program-modules">
      {% for module in course_data.program %}
      <div class="module-card">
        <h3 class="module-card__title">{{ module.title }}</h3>
        <ul class="module-card__lessons">
          {% for lesson in module.lessons %}
          <li class="lesson-item">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 2l1.5 3 3.5.5-2.5 2.5.5 3.5-3-1.5-3 1.5.5-3.5L3 6l3.5-.5L8 2z"/>
            </svg>
            <span>{{ lesson }}</span>
          </li>
          {% endfor %}
        </ul>
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã -->
  <section class="course-section course-section--alt">
    <h2 class="section-title section-title--magic">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
        <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/>
      </svg>
      –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
    </h2>
    
    <div class="tools-grid">
      {% for tool in course.technologies %}
      <div class="tool-badge">
        <span>{{ tool }}</span>
      </div>
      {% endfor %}
    </div>
  </section>

  <!-- –§–∏–Ω–∞–ª—å–Ω—ã–π CTA -->
  <section class="course-cta">
    <div class="course-cta__content">
      <h2 class="course-cta__title">–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å –º–∞–≥–∏—á–µ—Å–∫–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ?</h2>
      <p class="course-cta__text">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ {{ course.title|lower }} –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ AI</p>
      
      <div class="course-cta__actions">
        {% if is_purchased %}
        <a href="{{ url_for('courses.my_course', slug=course.slug) }}" class="btn btn--primary btn--xlarge btn--glow">
          –ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ
        </a>
        {% elif session.get('user_id') %}
        <a href="{{ url_for('courses.buy_course', slug=course.slug) }}" class="btn btn--primary btn--xlarge btn--glow">
          –ö—É–ø–∏—Ç—å –∑–∞ {{ "{:,}".format(course_data.price).replace(',', ' ') }} ‚ÇΩ
        </a>
        {% else %}
        <a href="{{ url_for('auth.register') }}" class="btn btn--primary btn--xlarge btn--glow">
          –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
        </a>
        <a href="{{ url_for('auth.login') }}" class="btn btn--ghost btn--xlarge">
          –í–æ–π—Ç–∏
        </a>
        {% endif %}
      </div>
    </div>
    
    <div class="course-cta__sparkles">
      <div class="sparkle sparkle--gold"></div>
      <div class="sparkle sparkle--purple"></div>
      <div class="sparkle sparkle--gold"></div>
    </div>
  </section>
</div>
{% endblock %}

