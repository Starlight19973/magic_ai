# ü™Ñ –ù–µ–π—Ä–æ–º–∞–≥–∏—è ‚Äî –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Claude

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ

**–ù–µ–π—Ä–æ–º–∞–≥–∏—è** ‚Äî –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–µ —Å AI –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å –Ω–∞ Python —Å –º–∞–≥–∏—á–µ—Å–∫–∏–º –¥–∏–∑–∞–π–Ω–æ–º, –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –∫—É—Ä—Å–∞–º–∏.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å**: –ü–æ–º–æ—á—å –ª—é–¥—è–º –∏–∑ –ª—é–±—ã—Ö —Å—Ñ–µ—Ä –æ—Å–≤–æ–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏ –∏ AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

---

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

#### 1. Backend (Python/Quart)
- [x] Async –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ **Quart 0.19.6**
- [x] ORM **SQLAlchemy 2.0.36** —Å async –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö **PostgreSQL 16** (production) —á–µ—Ä–µ–∑ asyncpg
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö **SQLite** (development) —á–µ—Ä–µ–∑ aiosqlite
- [x] Docker/Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ **Pydantic**
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ **Loguru**

#### 2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- [x] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (email + password)
- [x] –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É (email + password)
- [x] –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —á–µ—Ä–µ–∑ **bcrypt**
- [x] **Telegram OAuth** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚ú® (HMAC-SHA256 –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)
- [x] –°–µ—Å—Å–∏–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ **Quart-Auth**
- [x] Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (–º–æ–¥–µ–ª—å –∏ —Ç–∞–±–ª–∏—Ü–∞ –≥–æ—Ç–æ–≤—ã)

**–í–∞–∂–Ω–æ**: –ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram –±–æ—Ç–∞, –∏–º—è –±–æ—Ç–∞ –î–û–õ–ñ–ù–û –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot` –∏–ª–∏ `_bot` (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ Telegram).

#### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ú–æ–¥–µ–ª–∏ (app/models/):**
- `User` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (username, email, password_hash, telegram_id, telegram_username, avatar_url, is_active, created_at)
- `UserCourse` ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫—É—Ä—Å–∞–º (user_id, course_id, is_started, is_completed, progress, started_at, completed_at)
- `EmailVerification` ‚Äî email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (email, code, is_verified, created_at, expires_at)

**PostgreSQL –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: `postgres:16-alpine`
- –î–∞–Ω–Ω—ã–µ –≤ volume: `postgres-data`
- Connection pooling: pool_size=10, max_overflow=20
- Health checks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- DATABASE_URL: `postgresql+asyncpg://neuromagic_user:password@postgres:5432/neuromagic`

**–ú–∏–≥—Ä–∞—Ü–∏—è —Å SQLite:**
- –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏: `migrate_to_postgres.py`
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: `MIGRATION_GUIDE.md`
- SQLite —Ñ–∞–π–ª (`neuromagic.db`) —É–¥–∞–ª–µ–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ PostgreSQL

#### 4. –†–æ—É—Ç—ã (app/routes/)

**auth.py** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
- `POST /register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /login` ‚Äî –≤—Ö–æ–¥
- `GET /logout` ‚Äî –≤—ã—Ö–æ–¥
- `GET /telegram-login` ‚Äî –∏–Ω–∏—Ü–∏–∞—Ü–∏—è Telegram OAuth
- `GET /telegram/callback` ‚Äî callback Telegram OAuth
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**courses.py** ‚Äî –∫—É—Ä—Å—ã:
- `GET /courses` ‚Äî –∫–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤
- `GET /courses/<course_id>` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞
- `POST /courses/<course_id>/start` ‚Äî –Ω–∞—á–∞—Ç—å –∫—É—Ä—Å

**quest.py** ‚Äî –∫–≤–µ—Å—Ç—ã/—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è:
- `GET /quest/<quest_id>` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–≤–µ—Å—Ç–∞
- `POST /quest/<quest_id>/complete` ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–µ—Å—Ç

**public.py** ‚Äî –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- `GET /` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `GET /about` ‚Äî –æ –ø—Ä–æ–µ–∫—Ç–µ
- `GET /contact` ‚Äî –∫–æ–Ω—Ç–∞–∫—Ç—ã
- `GET /terms` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ (–ø—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞ –¥–ª—è –†–§)

#### 5. Frontend

**–î–∏–∑–∞–π–Ω:**
- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π, —Å–∏–Ω–∏–π, —Ä–æ–∑–æ–≤—ã–π)
- –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã –Ω–∞ Canvas
- –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫—É—Ä—Å–æ—Ä —Å trail —ç—Ñ—Ñ–µ–∫—Ç–æ–º
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ hover-—ç—Ñ—Ñ–µ–∫—Ç—ã
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (mobile-first)

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Jinja2 —à–∞–±–ª–æ–Ω—ã (SSR)
- Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- CSS Variables –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –¥–∏–∑–∞–π–Ω–∞
- Canvas API –¥–ª—è —á–∞—Å—Ç–∏—Ü

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (templates/):**
- `base.html` ‚Äî –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
- `auth/login.html` ‚Äî —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞
- `auth/register.html` ‚Äî —Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `courses/catalog.html` ‚Äî –∫–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤
- `quest/quest_v2.html` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–≤–µ—Å—Ç–∞
- `terms.html` ‚Äî –ø—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞

#### 6. –ö–æ–Ω—Ç–µ–Ω—Ç

**–ö—É—Ä—Å—ã (app/data/courses.py):**
- Beginner: "–û—Å–Ω–æ–≤—ã –ø—Ä–æ–º–ø—Ç–∏–Ω–≥–∞", "ChatGPT –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö"
- Junior: "Midjourney –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å", "Stable Diffusion"
- Middle: "–°–æ–∑–¥–∞–Ω–∏–µ AI –∞–≥–µ–Ω—Ç–æ–≤", "Fine-tuning –º–æ–¥–µ–ª–µ–π"
- Senior: "RAG —Å–∏—Å—Ç–µ–º—ã", "LangChain —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞"

**–ö–≤–µ—Å—Ç—ã (app/data/quest_v2.py):**
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∑–∞–¥–∞–Ω–∏–π

#### 7. DevOps

**Docker:**
- `Dockerfile` ‚Äî –æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Python 3.11)
- `docker-compose.yml` ‚Äî PostgreSQL + App + Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Healthchecks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- Volume –¥–ª—è –ª–æ–≥–æ–≤ –∏ –±—ç–∫–∞–ø–æ–≤

**–î–µ–ø–ª–æ–π —Å–∫—Ä–∏–ø—Ç—ã:**
- `deploy.sh` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- `quick-deploy.sh` ‚Äî –±—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
- `setup-ssl.sh` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

**Makefile –∫–æ–º–∞–Ω–¥—ã:**
- `make docker-build` ‚Äî —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
- `make docker-up` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- `make docker-down` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
- `make docker-logs` ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏

---

## üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –°–µ–π—á–∞—Å –¥–µ–ª–∞–µ–º:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ PostgreSQL –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìù –ü–ª–∞–Ω—ã –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

#### 1. Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (–∑–∞–≤–µ—Ä—à–∏—Ç—å)
- [ ] SMTP —Å–µ—Ä–≤–∏—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Yandex/Gmail/Mail.ru)
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–≤–æ–¥–∞ –∫–æ–¥–∞
- [ ] –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ email –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –∞–∫–∫–∞—É–Ω—Ç–∞

#### 2. –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è `/profile`
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (username, email)
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞
- [ ] –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è
- [ ] –ü—Ä–∏–≤—è–∑–∫–∞/–æ—Ç–≤—è–∑–∫–∞ Telegram

#### 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫—É—Ä—Å–æ–≤
- [ ] –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ –ë–î (UserCourse)
- [ ] –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫—É—Ä—Å—ã (–Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å FavoriteCourse)
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫—É—Ä—Å–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—é/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- [ ] –ü–æ–∏—Å–∫ –∫—É—Ä—Å–æ–≤

#### 4. –ö–≤–µ—Å—Ç—ã –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- [ ] –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∫ –∑–∞–¥–∞–Ω–∏—è–º
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
- [ ] –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è/–±–µ–π–¥–∂–∏

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

#### 5. OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- [ ] VK OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Yandex OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Google OAuth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### 6. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–Ω–æ–≤—ã–µ –∫—É—Ä—Å—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å)
- [ ] Telegram Bot –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–æ—Ç–¥–µ–ª—å–Ω—ã–π –æ—Ç OAuth)
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

#### 7. Admin –ø–∞–Ω–µ–ª—å
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏
- [ ] –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

#### 8. –ü–ª–∞—Ç–µ–∂–∏ (–≤–µ—Ä—Å–∏—è 2.0)
- [ ] –ÆKassa –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫—É—Ä—Å—ã
- [ ] –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫
- [ ] –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π

#### 9. –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫—É—Ä—Å–∞–º
- [ ] –†–µ–π—Ç–∏–Ω–≥–∏ –∏ –æ—Ç–∑—ã–≤—ã
- [ ] –§–æ—Ä—É–º/—á–∞—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- [ ] –°–∏—Å—Ç–µ–º–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

#### 10. –ö–æ–Ω—Ç–µ–Ω—Ç
- [ ] –ë–ª–æ–≥ –æ –Ω–µ–π—Ä–æ—Å–µ—Ç—è—Ö
- [ ] FAQ —Å–µ–∫—Ü–∏—è
- [ ] –í–∏–¥–µ–æ-—É—Ä–æ–∫–∏ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YouTube)
- [ ] –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
magic_ai/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ models/              # SQLAlchemy –º–æ–¥–µ–ª–∏ –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py      # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py          # User –º–æ–¥–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_course.py   # UserCourse –º–æ–¥–µ–ª—å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ email_verification.py  # EmailVerification –º–æ–¥–µ–ª—å
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/              # –ú–∞—Ä—à—Ä—É—Ç—ã (Blueprint-like)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, Telegram OAuth)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ courses.py       # –ö—É—Ä—Å—ã (–∫–∞—Ç–∞–ª–æ–≥, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ quest.py         # –ö–≤–µ—Å—Ç—ã/—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ public.py        # –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≥–ª–∞–≤–Ω–∞—è, –æ –ø—Ä–æ–µ–∫—Ç–µ, –∫–æ–Ω—Ç–∞–∫—Ç—ã)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ schemas/             # Pydantic —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email.py         # Email —Å–µ—Ä–≤–∏—Å (SMTP)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ courses.py       # –õ–æ–≥–∏–∫–∞ –∫—É—Ä—Å–æ–≤
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ data/                # –î–∞–Ω–Ω—ã–µ (–∫—É—Ä—Å—ã, –∫–≤–µ—Å—Ç—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ courses.py       # –î–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog.py       # –ö–∞—Ç–∞–ª–æ–≥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ quest_v2.py      # –î–∞–Ω–Ω—ã–µ –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py          # –°–æ–∑–¥–∞–Ω–∏–µ Quart app
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ database.py          # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î (SQLAlchemy + asyncpg/aiosqlite)
‚îÇ
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ css/                 # –°—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tokens.css       # Design tokens (—Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ magic.css        # –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.css         # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ js/                  # JavaScript
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ particles.js     # –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cursor.js        # –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫—É—Ä—Å–æ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.js          # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ favicon.svg          # –ò–∫–æ–Ω–∫–∞ —Å–∞–π—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ manifest.json        # PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç
‚îÇ
‚îú‚îÄ‚îÄ templates/               # Jinja2 —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth/                # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register.html
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ courses/             # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∫—É—Ä—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ catalog.html
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ quest/               # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∫–≤–µ—Å—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ quest_v2.html
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ partials/            # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ base.html            # –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ index.html           # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ about.html           # –û –ø—Ä–æ–µ–∫—Ç–µ
‚îÇ   ‚îî‚îÄ‚îÄ terms.html           # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ
‚îÇ
‚îú‚îÄ‚îÄ nginx/                   # Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ nginx.conf
‚îÇ
‚îú‚îÄ‚îÄ logs/                    # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ backups/                 # –ë—ç–∫–∞–ø—ã –ë–î
‚îÇ
‚îú‚îÄ‚îÄ main.py                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile               # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –≤ git)
‚îú‚îÄ‚îÄ .env.example             # –ü—Ä–∏–º–µ—Ä .env
‚îú‚îÄ‚îÄ Makefile                 # Make –∫–æ–º–∞–Ω–¥—ã
‚îÇ
‚îú‚îÄ‚îÄ migrate_to_postgres.py   # –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Å SQLite –Ω–∞ PostgreSQL
‚îú‚îÄ‚îÄ create_test_user.py      # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ
‚îî‚îÄ‚îÄ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
    ‚îú‚îÄ‚îÄ README.md            # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ CLAUDE.md            # üëà –≠—Ç–æ—Ç —Ñ–∞–π–ª (–∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è Claude)
    ‚îú‚îÄ‚îÄ MIGRATION_GUIDE.md   # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
    ‚îú‚îÄ‚îÄ DEPLOY.md            # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
    ‚îú‚îÄ‚îÄ DEPLOY_CHECKLIST.md  # –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è
    ‚îú‚îÄ‚îÄ QUICK_START.md       # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
    ‚îú‚îÄ‚îÄ SERVER_SETUP.md      # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
    ‚îú‚îÄ‚îÄ SSL_SETUP.md         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
    ‚îî‚îÄ‚îÄ TELEGRAM_BOT_SETUP.md # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.11+**
- **Quart 0.19.6** ‚Äî async –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (–∫–∞–∫ Flask, –Ω–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
- **SQLAlchemy 2.0.36** ‚Äî ORM —Å async –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- **asyncpg 0.29.0** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä PostgreSQL
- **aiosqlite 0.19.0** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä SQLite
- **Pydantic 2.8.2** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **bcrypt 4.1.2** ‚Äî —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **Quart-Auth 0.9.0** ‚Äî —Å–µ—Å—Å–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **Loguru 0.7.2** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **HTTPX 0.27.0** ‚Äî async HTTP –∫–ª–∏–µ–Ω—Ç

### Frontend
- **Jinja2** ‚Äî —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä
- **Vanilla JavaScript** ‚Äî –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
- **CSS3** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, Grid, Flexbox
- **Canvas API** ‚Äî –∞–Ω–∏–º–∞—Ü–∏–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL 16 Alpine** ‚Äî production
- **SQLite** ‚Äî development

### DevOps
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Docker Compose** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
- **Nginx** ‚Äî reverse proxy
- **Hypercorn** ‚Äî ASGI —Å–µ—Ä–≤–µ—Ä

---

## üîë –í–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# –û—Å–Ω–æ–≤–Ω—ã–µ
SECRET_KEY=your-secret-key-here-change-in-production
APP_ENV=development|production

# PostgreSQL
POSTGRES_DB=neuromagic
POSTGRES_USER=neuromagic_user
POSTGRES_PASSWORD=your_secure_password_here
DATABASE_URL=postgresql+asyncpg://neuromagic_user:password@postgres:5432/neuromagic

# Telegram OAuth (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
TELEGRAM_OAUTH_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
TELEGRAM_OAUTH_BOT_USERNAME=YourBot  # –ë–ï–ó @, –î–û–õ–ñ–ï–ù –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ bot –∏–ª–∏ _bot

# SMTP (–¥–ª—è email)
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=465
SMTP_USER=your-email@yandex.ru
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=your-email@yandex.ru
SMTP_FROM_NAME=–ù–µ–π—Ä–æ–º–∞–≥–∏—è

# –ö–æ–Ω—Ç–∞–∫—Ç—ã
CONTACT_EMAIL=hello@neuro-magic.ru
SITE_NAME=–ù–µ–π—Ä–æ–º–∞–≥–∏—è
```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. Telegram OAuth "Username invalid"
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram –≤—ã–¥–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ "Username invalid"

**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ –∏–º–µ–Ω–∞ Telegram –±–æ—Ç–æ–≤ –î–û–õ–ñ–ù–´ –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot` –∏–ª–∏ `_bot`. –≠—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ Telegram.

–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: `TELEGRAM_OAUTH_BOT_USERNAME=generate_neuto`
–ü—Ä–∞–≤–∏–ª—å–Ω–æ: `TELEGRAM_OAUTH_BOT_USERNAME=generate_neuto_bot`

### 2. asyncpg compilation error –Ω–∞ Windows
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ asyncpg –Ω–∞ Windows –æ—à–∏–±–∫–∞ `Microsoft Visual C++ 14.0 required`

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í Docker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Linux –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –≥–¥–µ –∫–æ–º–ø–∏–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø—Ä–æ–±–ª–µ–º.

### 3. PostgreSQL connection refused
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω: `docker-compose ps`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health: `docker-compose exec postgres pg_isready`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DATABASE_URL –≤ .env
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ app –∑–∞–≤–∏—Å–∏—Ç –æ—Ç postgres —Å `condition: service_healthy`

---

## üìä –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Docker
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
docker-compose up -d

# –¢–æ–ª—å–∫–æ PostgreSQL
docker-compose up -d postgres

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d --build

# –õ–æ–≥–∏
docker-compose logs -f app
docker-compose logs -f postgres

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes
docker-compose down -v
```

### PostgreSQL
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
docker-compose exec postgres psql -U neuromagic_user -d neuromagic

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞–±–ª–∏—Ü—ã
docker-compose exec postgres psql -U neuromagic_user -d neuromagic -c "\dt"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
docker-compose exec postgres psql -U neuromagic_user -d neuromagic -c "SELECT id, username, email, telegram_username FROM users;"

# –ë—ç–∫–∞–ø
docker-compose exec postgres pg_dump -U neuromagic_user neuromagic > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
cat backup.sql | docker-compose exec -T postgres psql -U neuromagic_user neuromagic
```

### Git
```bash
# –¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞
git branch

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ main
git checkout main

# –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ dev
git checkout dev

# –ó–∞–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push origin main
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–±–µ–∑ Docker)
```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv
.venv\Scripts\activate  # Windows
source .venv/bin/activate  # Linux/macOS

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
quart --app main:app --debug run

# –ò–ª–∏ —á–µ—Ä–µ–∑ Hypercorn (production-like)
hypercorn main:app --bind 0.0.0.0:8000
```

---

## üé® –î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞

### –¶–≤–µ—Ç–∞
```css
--primary: #8b5cf6      /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π */
--secondary: #3b82f6    /* –°–∏–Ω–∏–π */
--accent: #ec4899       /* –†–æ–∑–æ–≤—ã–π */
--success: #10b981      /* –ó–µ–ª–µ–Ω—ã–π */
--warning: #f59e0b      /* –û—Ä–∞–Ω–∂–µ–≤—ã–π */
--danger: #ef4444       /* –ö—Ä–∞—Å–Ω—ã–π */
--dark-bg: #0a0a0f      /* –¢–µ–º–Ω—ã–π —Ñ–æ–Ω */
```

### –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞
- –ó–∞–≥–æ–ª–æ–≤–∫–∏: "Raleway", sans-serif (font-weight: 700-900)
- –¢–µ–∫—Å—Ç: "Inter", sans-serif (font-weight: 400-600)
- –ö–æ–¥: "Fira Code", monospace

### –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã –Ω–∞ Canvas
- Gradient backgrounds —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫—É—Ä—Å–æ—Ä —Å trail —ç—Ñ—Ñ–µ–∫—Ç–æ–º
- Smooth transitions (0.3s ease)
- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã —Å transform –∏ glow

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ bcrypt (cost factor: 12)
- [x] Telegram OAuth —Å HMAC-SHA256 –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- [x] SQL injection –∑–∞—â–∏—Ç–∞ (SQLAlchemy parametrized queries)
- [x] –°–µ—Å—Å–∏–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ (Quart-Auth)
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Pydantic)
- [x] HTTPS –≤ production (—á–µ—Ä–µ–∑ Nginx + Let's Encrypt)

### TODO
- [ ] CSRF —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ñ–æ—Ä–º
- [ ] Rate limiting (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)
- [ ] Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –∞–∫–∫–∞—É–Ω—Ç–∞
- [ ] 2FA –æ–ø—Ü–∏—è (TOTP)
- [ ] Content Security Policy headers
- [ ] XSS –∑–∞—â–∏—Ç–∞ (escaping –≤ —à–∞–±–ª–æ–Ω–∞—Ö)

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Async/await –≤–µ–∑–¥–µ (Quart + asyncpg + aiosqlite)
- PostgreSQL connection pooling (pool_size=10)
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π CSS/JS (TODO)
- Lazy loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (TODO)
- Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (TODO)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- Loguru –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤
- Docker healthchecks
- TODO: Prometheus + Grafana

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Å—Å—ã–ª–∫–∏

- **–î–æ–º–µ–Ω:** neuro-magic.ru
- **Email:** hello@neuro-magic.ru
- **Telegram:** @neuromagic (TODO)
- **GitHub:** https://github.com/Starlight19973/magic_ai

---

## üí° –°–æ–≤–µ—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –º–æ–¥–µ–ª—è–º–∏ –ë–î
1. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π async session (`get_session()`)
2. –ù–µ –∑–∞–±—ã–≤–∞–π `await` –ø–µ—Ä–µ–¥ `session.execute()`, `session.commit()` –∏ —Ç.–¥.
3. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π: —É–¥–∞–ª–∏ –ë–î –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π —Ç–∞–±–ª–∏—Ü—ã

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä–æ—É—Ç–∞–º–∏
1. –í—Å–µ —Ä–æ—É—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å async (`async def`)
2. –ò—Å–ø–æ–ª—å–∑—É–π `@login_required` –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤
3. –í–∞–ª–∏–¥–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Pydantic schemas

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
1. –°–ª–µ–¥—É–π design tokens –∏–∑ `tokens.css`
2. –í—Å–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å hover —ç—Ñ—Ñ–µ–∫—Ç
3. Mobile-first –ø–æ–¥—Ö–æ–¥ (320px+)

### –ü—Ä–∏ –¥–µ–ø–ª–æ–µ
1. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ò—Å–ø–æ–ª—å–∑—É–π `docker-compose logs` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. –î–µ–ª–∞–π –±—ç–∫–∞–ø—ã –ë–î –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

---

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –¢–∏–ø–∏—á–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ `dev` –≤–µ—Ç–∫—É: `git checkout dev`
2. –°–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
4. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å: `git add . && git commit -m "..."`
5. –ó–∞–ø—É—à–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä: `git push origin dev`
6. –ï—Å–ª–∏ –≤—Å—ë –æ–∫, –≤–ª–∏—Ç—å –≤ `main`:
   ```bash
   git checkout main
   git merge dev
   git push origin main
   git checkout dev
   ```
7. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: `docker-compose up -d --build`

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ñ–∏–∫—Å–∞ –Ω–∞ –ø—Ä–æ–¥–µ:
```bash
git checkout main
# —Å–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add . && git commit -m "Fix: ..."
git push origin main
# –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: docker-compose up -d --build
git checkout dev
git merge main  # –≤–ª–∏—Ç—å —Ñ–∏–∫—Å –æ–±—Ä–∞—Ç–Ω–æ –≤ dev
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] `.env` –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- [ ] `SECRET_KEY` –∏–∑–º–µ–Ω–µ–Ω (–Ω–µ default)
- [ ] `POSTGRES_PASSWORD` —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
- [ ] `APP_ENV=production`
- [ ] Telegram –±–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∏–º—è –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `bot`
- [ ] SMTP –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–¥–ª—è email)
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Nginx)
- [ ] –ü–æ—Ä—Ç—ã 80, 443, 8000 –æ—Ç–∫—Ä—ã—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ë—ç–∫–∞–ø –ë–î —Å–¥–µ–ª–∞–Ω (–µ—Å–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-20

**–°—Ç–∞—Ç—É—Å:** PostgreSQL –º–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚úÖ, SQLite —É–¥–∞–ª–µ–Ω ‚úÖ

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å PostgreSQL
